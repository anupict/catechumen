<%= stylesheet_link_tag 'report' %>
<div id="A4potrait">

<form action="#">
	<script>
	document.write("<input type='button' " +
	"onClick='window.print()' " +
	"class='printbutton' " +
	"value='Print This Page'/>");
	</script>
	<form>

<div id="title" width=21cm>	
<H3 text-indent: 70px>KOLEJ SAINS KESIHATAN BERSEKUTU JOHOR BAHRU</H3>
<H3>BORANG MAKLUMAT STAFF BAGI SISTEM ICMS</H3>

<BR>
	
<div id="borangmaklumat">
<table width=100%>
	<tr>
		<th colspan = 4 bgcolor="#D8D8D8"><b>Butiran Peribadi</b></th>
	</tr>
	
	<tr>
			<td>1</td>
			<td><label for="fileno">MyKad No</label></td>
			<td>:</td>
			<td><%=h @staff.icno %></td>
	</tr>
	<tr>
			<td>2</td>
			<td><label for="name">Nama</label></td>
			<td>:</td>
			<td><%=h @staff.title.name unless @staff.title.blank?  %> <%=h @staff.name %></td>
	</tr>
	
	<tr>
		<td width="3%">3</th>
		<td width="30%"><label for="code">Staff Code</label></th>
		<td width="1%">:</th>
		<td><%=h @staff.code %></td>
	</tr>
	
	<tr>
			<td>4</td>
			<td><label for="fileno">No Fail Peribadi</label></td>
			<td>:</td>
			<td><%=h @staff.fileno %></td>
	</tr>
	
	<tr>
			<td>5</td>
			<td><label for="position_id">Jawatan</label></td>
			<td>:</td>
			<td><%=h @staff.position.blank? ? "" : @staff.position.name %></td>
	</tr>
	
	<tr>
			<td>6</td>
			<td><label for="coemail">Email</label></td>
			<td>:</td>
			<td><%=h @staff.coemail %></td>
	</tr>
	
	<tr>
			<td>7</td>
			<td><label for="cobirthdt">Tarikh Lahir</label></td>
			<td>:</td>
			<td><%=h l(@staff.cobirthdt) %></td>
	</tr>
	
	<tr>
			<td>8</td>
			<td><label for="birthcertno">No Surat Beranak</label></td>
			<td>:</td>
			<td><%=h @staff.birthcertno %></td>
	</tr>
	
	<tr>
			<td>9</td>
			<td><label for="birthcertno">Umur</label></td>
			<td>:</td>
			<td><%=h @staff.age %></td>
	</tr>
	
	<tr>
			<td>10</td>
			<td><label for="bloodtype">Jenis Darah</label></td>
			<td>:</td>
			<td><%=h (Staff::BLOOD_TYPE.find_all{|disp, value| value == @staff.bloodtype}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>11</td>
			<td><label for="gender">Jantina</label></td>
			<td>:</td>
			<td><%=h (Staff::GENDER.find_all{|disp, value| value == @staff.gender.to_s}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>12</td>
			<td><label for="birthcertno">Telefon</label></td>
			<td>:</td>
			<td>Pejabat : <%=h @staff.cooftelno %> Ext : <%=h @staff.cooftelext %> <BR>Bimbit : <%=h @staff.phonecell %> <BR> Rumah: <%=h @staff.phonehome %></td>
	</tr>
	
	<tr>
			<td>13</td>
			<td><label for="addr">Alamat: </label></td>
			<td>:</td>
			<td><%=h @staff.addr %></td>
	</tr>
	
	<tr>
			<td>14</td>
			<td><label for="poskod_id">Poskod</label></td>
			<td>:</td>
				<td><%=h @staff.poskod_id %></td>
	</tr>
	
	<tr>
			<td>15</td>
			<td><label for="mrtlstatuscd">Taraf Perkahwinan</label></td>
			<td>:</td>
			<td><%=h (Staff::MARITAL_STATUS.find_all{|disp, value| value == @staff.mrtlstatuscd }).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>16</td>
			<td><label for="statecd">Negeri Dilahirkan</label></td>
			<td>:</td>
			<td><%=h (Staff::STATECD.find_all{|disp, value| value == @staff.statecd}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>17</td>
			<td><label for="race">Bangsa</label></td>
			<td>:</td>
			<td><%=h (Staff::RACE.find_all{|disp, value| value == @staff.race}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>18</td>
			<td><label for="gender">Agama</label></td>
			<td>:</td>
			<td><%=h (Staff::RELIGION.find_all{|disp, value| value == @staff.religion}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>19</td>
			<td><label for="gender">Kewarganegaraan</label></td>
			<td>:</td>
			<td><%=h (Staff::NATIONALITY.find_all{|disp, value| value == @staff.country_cd}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>20</td>
			<td><label for="gender">Kelas Pengangkutan</label></td>
			<td>:</td>
			<td><%=h @staff.transportclass_id %></td>
	</tr>
	
	<tr>
			<td>21</td>
			<td><label for="taxcode">No Cukai Pendapatan</label></td>
			<td>:</td>
			<td><%=h @staff.taxcode %></td>
	</tr>
	
	<tr>
			<td>22</td>
			<td><label for="bankaccno">No Akaun Bank</label></td>
			<td>:</td>
			<td><%=h @staff.bankaccno %></td>
	</tr>
	
	<tr>
			<td>23</td>
			<td><label for="bank">Nama Bank</label></td>
			<td>:</td>
			<td><%=h @staff.my_bank %></td>
	</tr>
	
	<tr>
			<td>24</td>
			<td><label for="bankacctype">Jenis Akaun</label></td>
			<td>:</td>
			<!--	<td><#%=h (Staff::BANKTYPE.find_all{|disp, value| value == @staff.bankacctype }).map {|disp, value| disp} %></td>-->
	</tr>
	
	<tr>
		<th colspan = 4><b>Butiran Pekerjaan</b></th>
	</tr>

	<tr>
			<td>25</td>
			<td><label for="staffgrade_id">Gred Jawatan</label></td>
			<td>:</td>
			<td><%=h @staff.staffgrade_id.blank? ? "" : @staff.staffgrade.name_and_group %></td>
	</tr>

	<tr>
			<td>26</td>
			<td><label for="position">Jawatan</label></td>
			<td>:</td>
			<td><%=h @staff.position.blank? ? "-" : @staff.position.name %></td>
	</tr>
	
	<tr>
			<td>27</td>
			<td><label for="reports_to">Melapor Kepada</label></td>
			<td>:</td>
			<td><%=h @staff.render_reports_to %></td>
	</tr>

	<tr>
			<td>28</td>
			<td><label for="employstatus">Status Pekerjaan</label></td>
			<td>:</td>
			<td><%=h (Staff::STATUS.find_all{|disp, value| value == @staff.employstatus}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>29</td>
			<td><label for="bosses">Status Lantikan</label></td>
			<td>:</td>
			<td><%=h (Staff::APPOINTMENT.find_all{|disp, value| value == @staff.appointstatus.to_s}).map {|disp, value| disp} %></td>
	</tr>
	<tr>
			<td>30</td>
			<td><label for="appointdt">Tarikh Lantikan</label></td>
			<td>:</td>
			<td><%=h @staff.appointdt.blank? ? "-" : l(@staff.appointdt)  %></td>
	</tr>
	
	<tr>
			<td>31</td>
			<td><label for="schemedt">Tarikh Lantikan Ke Skim Perkhidmatan Sekarang </label></td>
			<td>:</td>
			<td><%=h @staff.schemedt.strftime('%d- %m - %Y') unless @staff.schemedt.nil?  %></td>
	</tr>
	
	<tr>
			<td>32</td>
			<td><label for="schemedt">Tarikh Lantikan Ke Skim Sekarang</label></td>
			<td>:</td>
			<td><%=h @staff.schemedt.blank? ? "-" : l(@staff.schemedt)  %></td>
	</tr>
	
	<tr>
			<td>33</td>
			<td><label for="confirmdt">Tarikh Sah Perkhidmatan</label></td>
			<td>:</td>
			<td><%=h @staff.confirmdt.blank? ? "-" : l(@staff.confirmdt) %></td>
	</tr>
	<tr>
			<td>34</td>
			<td><label for="appointby">Tarikh Sah Ke Jawatan Sekarang</label></td>
			<td>:</td>
			<td><%=h @staff.posconfirmdate.blank? ? "-" : l(@staff.posconfirmdate) %></td>
	</tr>
	
	<tr>
			<td>35</td>
			<td><label for="wealth_decleration_date">Tarikh Terkini Isytihar Harta</label></td>
			<td>:</td>
			<td><%=h @staff.wealth_decleration_date.blank? ? "-" : l(@staff.wealth_decleration_date)  %></td>
	</tr>
	
	<tr>
			<td>36</td>
			<td><label for="promotion_date">Tarikh Naik Pangkat/Memangku</label></td>
			<td>:</td>
			<td><%=h @staff.promotion_date.blank? ? "-" : l(@staff.promotion_date)  %></td>
	</tr>

	<tr>
			<td>37</td>
			<td><label for="reconfirmation_date">Tarikh Sah Semula (Opsyen)</label></td>
			<td>:</td>
			<td><%=h @staff.reconfirmation_date.blank? ? "-" : l(@staff.reconfirmation_date) %></td>
	</tr>
	
	<tr>
			<td>38</td>
			<td><label for="to_current_grade_date">Tarikh Sah Ke Gred Sekarang</label></td>
			<td>:</td>
			<td><%=h @staff.to_current_grade_date.blank? ? "-" : l(@staff.to_current_grade_date)  %></td>
	</tr>
	
	<tr>
			<td>39</td>
			<td><label for="starting_salary">Gaji Permulaan</label></td>
			<td>:</td>
			<td><%=h ringgols(@staff.starting_salary ) %></td>
	</tr>
	
	<tr>
			<td>40</td>
			<td><label for="appointby">Pihak Berkuasa Melantik</label></td>
			<td>:</td>
			<td><%=h (Staff::APPOINTED.find_all{|disp, value| value == @staff.appointby }).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>41</td>
			<td><label for="svchead">Ketua Perkhidmatan</label></td>
			<td>:</td>
			<td><%=h (Staff::HOS.find_all{|disp, value| value == @staff.svchead }).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>42</td>
			<td><label for="svctype">Jenis Perkhidmatan</label></td>
			<td>:</td>
			<td><%=h (Staff::TOS.find_all{|disp, value| value == @staff.svctype }).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>43</td>
			<td><label for="pensiondt">Status Pencen</label></td>
			<td>:</td>
			<td><%=h (Staff::PENSION.find_all{|disp, value| value == @staff.pensionstat}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td>44</td>
			<td><label for="pensiondt">Tarikh Berpencen</label></td>
			<td>:</td>
			<td><%=h @staff.pensiondt.blank? ? "-" : l(@staff.pensiondt)  %></td>
	</tr>
	
	<tr>
			<td>45</td>
			<td><label for="pension_confirm_date">Tarikh Perakuan Pencen</label></td>
			<td>:</td>
			<td><%=h @staff.pension_confirm_date.blank? ? "-" : l(@staff.pension_confirm_date)  %></td>
	</tr>
	
	<tr>
			<td>46</td>
			<td><label for="pension_confirm_date">Status Pakaian Seragam</label></td>
			<td>:</td>
			<td><%=h (Staff::UNIFORM.find_all{|disp, value| value == @staff.uniformstat }).map {|disp, value| disp} %></td>
	</tr>
	
<% for qualification in @staff.qualifications %>
  
	
	<tr>
		<th colspan = 4><b>Kelayakan</b></th>
	</tr>
	
	<tr>
			<td>47</td>
			<td><label for="qname">Kelayakan Akademik</label></td>
			<td>:</td>
			<td></td>
	</tr>
	<tr>
			<td></td>
			<td><label for="level_id">a. Tahap</label></td>
			<td>:</td>
			<td><%=h (Qualification::QTYPE.find_all{|disp, value| value == qualification.level_id}).map {|disp, value| disp} %> - </td>
	</tr>
	<tr>
			<td></td>
			<td><label for="qname">b. Kelayakan</label></td>
			<td>:</td>
			<td><%=h qualification.qname %></td>
	</tr>
	<tr>
			<td></td>
			<td><label for="qname">c. Bidang Pengkhususan (Maj)</label></td>
			<td>:</td>
			<td></td>
	</tr>
	<tr>
			<td></td>
			<td><label for="qname">d. Bidang Pengkhususan (Min)</label></td>
			<td>:</td>
			<td></td>
	</tr>
	<tr>
			<td></td>
			<td><label for="qname">e. Tarikh Penganugerahan</label></td>
			<td>:</td>
			<td></td>
	</tr>
	<tr>
			<td></td>
			<td><label for="qname">f. Class/CGPA</label></td>
			<td>:</td>
			<td></td>
	</tr>
	<tr>
			<td></td>
			<td><label for="qname">g. Institusi</label></td>
			<td>:</td>
			<td><%=h qualification.institute %></td>
	</tr>

<% end %>

	<% for loan in @staff.loans %>
	<tr><td colspan=4><HR></td></tr>
		
		<tr>
			<th colspan = 4><b>Pinjaman</b></th>
		</tr>
	<tr>
			<td>48</td>
			<td>Pinjaman : Sudah di ambil : </td>
			<td>:</td>
			<td><%=h (Loan::LTYPE.find_all{|disp, value| value == loan.ltype}).map {|disp, value| disp} %></td>
	</tr>
	
	<tr>
			<td></td>
			<td>a. No Akaun</td>
			<td>:</td>
			<td><%=h loan.accno %></td>
	</tr>
	
	<tr>
			<td></td>
			<td>b. Tarikh Pinjaman</td>
			<td>:</td>
			<td><%=h loan.startdt %></td>
	</tr>
	
	<tr>
			<td></td>
			<td>c. Tempoh Bayaran Balik </td>
			<td>:</td>
			<td><%=h loan.durationmn %> Bulan</td>
	</tr>
	
	<tr>
			<td></td>
			<td>d. Ansuran Bulanan </td>
			<td>:</td>
			<td>RM <%=h loan.deductions %> </td>
	</tr>
	<tr><td colspan=4><HR></td></tr>
  <% end %>

	<tr>
		<th colspan = 4><b>Butiran Kewangan</b></th>
	</tr>
	
    <tr>
	          <td>49</td>
			  <td class="leftcol"><label for="kwspcode"><%= t 'staff.kwspcode' %></label></td>
			  <td>:</td>
			  <td><%=h @staff.kwspcode %></td>
	</tr>
	<tr>
		      <td>50</td>
			  <td class="leftcol"><label for="taxcode"><%= t 'staff.taxcode' %></label></td>
			  <td>:</td>
			  <td><%=h @staff.taxcode %></td>
	</tr>
	<!-- oops wrong! 24/11/11
	<tr>
				<td class="leftcol">Bank Accounts</td><!--23/11/2011 - added list for bank and bank type
				<td>
					<#% for bankaccount in @staff.bankaccounts %>
						<#%=h bankaccount.bank.long_name %> -
						<#%=h bankaccount.account_no %> -
						<#%=h (Bankaccount::BANKTYPE.find_all{|disp, value| value == bankaccount.account_type }).map {|disp, value| disp} %><BR>
						<#% end %>
				</td>
	</tr>-->

	
	


	
	<tr>
		<th colspan = 4><b>Waris Terdekat</b></th>
	</tr>
	
	
	<tr>
			<td>52</td>
			<td>Maklumat Keluarga</td>
			<td>:</td>
			<td></td>
	</tr>
		<% for kin in @staff.kins %>
	<tr>
			<td></td>
			<td>a. Hubungan</td>
			<td>:</td>
			<td><%=h (Kin::KTYPE.find_all{|disp, value| value == kin.kintype_id}).map {|disp, value| disp} %></td>
	</tr>
	<tr>
			<td></td>
			<td>b. Nama</td>
			<td>:</td>
			<td><%=h kin.name.blank? ? "" : kin.name %></td>
	</tr>
	
	<tr>
			<td></td>
			<td>c. Tarikh Lahir</td>
			<td>:</td>
			<td><%=h kin.kinbirthdt %></td>
	</tr>
	
	<tr>
			<td></td>
			<td>d. No Tel</td>
			<td>:</td>
			<td><%=h kin.phone %></td>
	</tr>
	
	<tr>
			<td></td>
			<td>e. Address</td>
			<td>:</td>
			<td><%=h kin.kinaddr %></td>
	</tr>
	<tr><td colspan=4><HR></td></tr>
	<% end %>
	


</table>
<BR>
</div>
</form>
</div>
</form>

<div id="hideLink">
<%= link_to (t 'icms.back'), staffs_path %>
</div>
</div>